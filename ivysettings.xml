<?xml version="1.0" encoding="ISO-8859-1"?>
<?xml-stylesheet type="text/xsl" href="http://www.jayasoft.fr/org/ivyrep/ivy-doc.xsl"?>
<ivysettings>
    <typedef name="svn" classname="fm.last.ivy.plugins.svnresolver.SvnResolver"/>

    <settings defaultResolver="public"/>

    <resolvers>
        <url name="public">
            <ivy pattern="http://ivy.zutubi.com/[organisation]/[module]/ivy-[revision].xml"/>
            <artifact pattern="http://ivy.zutubi.com/[organisation]/[module]/[type]s/[artifact]-[revision].[type]"/>
        </url>

        <filesystem name="build" local="true" checkmodified="true" changingPattern="*">
            <ivy pattern="${ivy.settings.dir}/build/repository/[module]/ivy-[revision].xml"/>
            <artifact pattern="${ivy.settings.dir}/build/repository/[module]/[type]s/[artifact]-[revision].[type]"/>
        </filesystem>

        <!-- It would be nice while testing to be able to switch resolvers at
             runtime (via -D option)
        <filesystem name="local" local="true" checkmodified="true" changingPattern="*">
            <ivy pattern="c:/projects/repository/[organisation]/[module]/ivy-[revision].xml"/>
            <artifact pattern="c:/projects/repository/[organisation]/[module]/[type]s/[artifact]-[revision].[type]"/>
        </filesystem>
        -->

        <svn name="private" repositoryRoot="svn+ssh://zutubi.com/svnroot" binaryDiff="false"
             userName="${svn.user.name}" userPassword="${svn.user.password}">
            <ivy pattern="repository/[organisation]/[module]/ivy-[revision].xml"/>
            <artifact pattern="repository/[organisation]/[module]/[type]s/[artifact]-[revision].[type]"/>
        </svn>
    </resolvers>

    <modules>
        <!-- We know where all of our own packages are located, no point searching through the others. -->
        <module organisation="zutubi" name="com.zutubi.*" resolver="build"/>
    </modules>
</ivysettings>
