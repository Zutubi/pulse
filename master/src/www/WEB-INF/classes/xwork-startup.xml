<!DOCTYPE xwork PUBLIC "-//OpenSymphony Group//XWork 1.0//EN"
        "http://www.opensymphony.com/xwork/xwork-1.1.1.dtd">
<xwork>
    <include file="webwork-default-package.xml"/>

    <package name="default" extends="webwork-default-package">
        <default-interceptor-ref name="completeStack"/>

        <action name="default" class="com.zutubi.pulse.web.ActionSupport">
            <result name="success" type="redirect">/startup/starting.action</result>
        </action>

        <!--
        security should not be enabled at this stage, however, just in case the acegi
        filter kickes in a little early, redirect to default.
        -->
        <action name="login" class="com.zutubi.pulse.web.ActionSupport">
            <result name="success" type="redirect">/startup/starting.action</result>
        </action>
        
        <!--
        Add monitoring of the system startup - progress bar or something similar.
        Feedback is king!
        -->

        <action name="404" class="com.zutubi.pulse.web.ActionSupport">
            <result name="success" type="redirect">/startup/starting.action</result>
        </action>

    </package>

    <package name="startup" extends="webwork-default-package">
        <default-interceptor-ref name="completeStack"/>

        <action name="starting" class="com.zutubi.pulse.web.ActionSupport">
            <result name="success" type="velocity">system-starting.vm</result>
        </action>

    </package>

</xwork>
