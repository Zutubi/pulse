<!DOCTYPE xwork PUBLIC "-//OpenSymphony Group//XWork 1.1.1//EN"
        "http://www.opensymphony.com/xwork/xwork-1.1.1.dtd">
<xwork>
    <include file="webwork-default-package.xml"/>

    <package name="default" extends="webwork-default-package">
        <default-interceptor-ref name="completeStack"/>

        <action name="default" class="com.zutubi.pulse.web.DefaultAction">
            <result name="dashboard" type="redirect">/dashboard/home/</result>
            <result name="welcome" type="velocity">/welcome.vm</result>
            <result name="projects" type="redirect">/browse/</result>
        </action>

        <action name="login" class="com.zutubi.pulse.web.LoginAction">
            <result name="cancel" type="redirect">/</result>
            <result name="input" type="velocity">login.vm</result>
            <result name="success" type="velocity">login.vm</result>
        </action>

        <action name="logout" class="com.zutubi.pulse.web.LogoutAction">
            <result name="success" type="redirect">/</result>
        </action>

        <action name="signup" class="com.zutubi.pulse.web.admin.user.SignupUserAction">
            <result name="cancel" type="redirect">/</result>
            <result name="input" type="velocity">signup.vm</result>
            <result name="success" type="redirect">/</result>
        </action>

        <action name="dismissWelcome" class="com.zutubi.pulse.web.DismissWelcomeAction">
            <result name="success" type="redirect">/default.action</result>
        </action>

        <action name="viewAgents" class="com.zutubi.pulse.web.agents.ViewAgentsAction">
            <interceptor-ref name="ajaxReadOnlyStack"/>
            <result name="success" type="velocity">/view-agents.vm</result>
        </action>

        <action name="agentAction" class="com.zutubi.pulse.web.agents.AgentActionAction">
            <result name="success" type="redirect">${redirect}</result>
        </action>

        <action name="viewServerQueues" class="com.zutubi.pulse.web.server.ViewServerQueuesAction">
            <interceptor-ref name="ajaxReadOnlyStack"/>
            <result name="success" type="velocity">/view-server-queues.vm</result>
        </action>

        <action name="cancelBuild" class="com.zutubi.pulse.web.server.CancelBuildAction">
            <result name="success" type="redirect">/server/activity/</result>
        </action>

        <action name="cancelQueuedBuild" class="com.zutubi.pulse.web.server.CancelQueuedBuildAction">
            <result name="success" type="redirect">/server/activity/</result>
        </action>

        <action name="viewAgentStatus" class="com.zutubi.pulse.web.agents.ViewAgentStatusAction">
            <interceptor-ref name="completeReadOnlyStack"/>
            <result name="success" type="velocity">/view-agent-status.vm</result>
        </action>

        <action name="agentMessages" class="com.zutubi.pulse.web.agents.ServerMessagesAction">
            <interceptor-ref name="completeReadOnlyStack"/>
            <result name="success" type="velocity">/agent-messages.vm</result>
        </action>

        <action name="serverMessages" class="com.zutubi.pulse.web.agents.ServerMessagesAction">
            <interceptor-ref name="completeReadOnlyStack"/>
            <result name="success" type="velocity">/server-messages.vm</result>
        </action>

        <action name="internalError" class="com.zutubi.pulse.web.InternalErrorAction">
            <result name="success" type="velocity">/internal-error.vm</result>
            <result name="input" type="velocity">/internal-error.vm</result>
            <result name="cancel" type="velocity">/internal-error.vm</result>
        </action>

        <action name="404" class="com.zutubi.pulse.web.FourOhFourAction">
            <result name="success" type="velocity">/404.vm</result>
            <result name="input" type="velocity">/404.vm</result>
            <result name="error" type="velocity">/404.vm</result>
        </action>

        <action name="viewProjects" class="com.zutubi.pulse.web.project.ViewProjectsAction">
            <interceptor-ref name="ajaxReadOnlyStack"/>
            <result name="success" type="velocity">/view-projects.vm</result>
        </action>

        <action name="projectAction" class="com.zutubi.pulse.web.project.ProjectActionAction">
            <result name="success" type="redirect">${redirect}</result>
        </action>

        <action name="viewBuild" class="com.zutubi.pulse.web.project.ViewBuildAction">
            <interceptor-ref name="ajaxReadOnlyStack"/>
            <result name="success" type="velocity">/view-build.vm</result>
        </action>

        <action name="viewChanges" class="com.zutubi.pulse.web.project.ViewChangesAction">
            <interceptor-ref name="completeReadOnlyStack"/>
            <result name="success" type="velocity">/view-changes.vm</result>
            <result name="personal" type="chain">viewPersonalChanges</result>
        </action>

        <action name="viewPersonalChanges" class="com.zutubi.pulse.web.project.ViewPersonalChangesAction">
            <interceptor-ref name="completeReadOnlyStack"/>
            <result name="success" type="velocity">/view-personal-changes.vm</result>
        </action>

        <action name="viewTests" class="com.zutubi.pulse.web.project.ViewBuildAction">
            <interceptor-ref name="completeReadOnlyStack"/>
            <result name="success" type="velocity">/view-tests.vm</result>
        </action>

        <action name="viewTestSuite" class="com.zutubi.pulse.web.project.ViewTestSuiteAction">
            <interceptor-ref name="completeReadOnlyStack"/>
            <result name="success" type="velocity">/view-test-suite.vm</result>
        </action>

        <action name="viewCommandLog" class="com.zutubi.pulse.web.project.ViewBuildAction">
            <interceptor-ref name="completeReadOnlyStack"/>
            <result name="success" type="velocity">/view-command-log.vm</result>
        </action>

        <action name="viewBuildArtifacts" class="com.zutubi.pulse.web.project.ViewArtifactsAction">
            <interceptor-ref name="completeReadOnlyStack"/>
            <result name="success" type="velocity">/view-artifacts.vm</result>
        </action>

        <action name="viewBuildFile" class="com.zutubi.pulse.web.project.ViewBuildFileAction">
            <interceptor-ref name="completeReadOnlyStack"/>
            <result name="success" type="velocity">/view-build-file.vm</result>
        </action>

        <action name="downloadBuildFile" class="com.zutubi.pulse.web.project.DownloadBuildFileAction">
            <interceptor-ref name="completeReadOnlyStack"/>
            <result name="success" type="stream">
                <param name="contentType">${contentType}</param>
                <param name="contentDisposition">filename="pulse.xml"</param>
            </result>
        </action>

        <action name="downloadProjectBuildFile" class="com.zutubi.pulse.web.project.DownloadProjectBuildFileAction">
            <interceptor-ref name="completeReadOnlyStack"/>
            <result name="success" type="stream">
                <param name="contentType">${contentType}</param>
            </result>
        </action>

        <action name="downloadDirectoryArtifact" class="com.zutubi.pulse.web.project.DownloadDirectoryArtifactAction">
            <interceptor-ref name="completeReadOnlyStack"/>
            <result name="success" type="stream">
                <param name="contentType">${contentType}</param>
                <param name="contentDisposition">filename="${filename}"</param>
            </result>
        </action>

        <action name="tailRecipeLog" class="com.zutubi.pulse.web.project.TailRecipeLogAction">
            <interceptor-ref name="completeStack"/>
            <result name="tail" type="velocity">/tail-recipe-log.vm</result>
            <result name="raw" type="stream">
                <param name="contentType">text/plain</param>
                <param name="contentDisposition">filename="recipe.log"</param>
            </result>
        </action>

        <action name="viewChangelist" class="com.zutubi.pulse.web.project.ViewChangelistAction">
            <interceptor-ref name="completeReadOnlyStack"/>
            <result name="success" type="velocity">/view-changelist.vm</result>
        </action>

        <action name="triggerBuild" class="com.zutubi.pulse.web.project.TriggerBuildAction">
            <result name="success" type="redirect">/browse/projects/${u_projectName}/</result>
            <result name="prompt" type="chain">editBuildProperties!input</result>
        </action>

        <action name="editBuildProperties!input" class="com.zutubi.pulse.web.project.EditBuildPropertiesAction" method="doInput">
            <result name="input" type="velocity">/edit-build-properties.vm</result>
        </action>

        <action name="editBuildProperties" class="com.zutubi.pulse.web.project.EditBuildPropertiesAction">
            <result name="input" type="velocity">/edit-build-properties.vm</result>
            <result name="success" type="redirect">/browse/projects/${u_projectName}/</result>
            <result name="cancel" type="redirect">/browse/projects/${u_projectName}/</result>
        </action>

        <action name="viewArtifact" class="com.zutubi.pulse.web.project.ViewArtifactAction">
            <interceptor-ref name="completeReadOnlyStack"/>
            <result name="success" type="velocity">/view-artifact.vm</result>
        </action>

        <action name="viewArtifactt" class="com.zutubi.pulse.web.project.TemporaryViewArtifactAction">
            <interceptor-ref name="completeReadOnlyStack"/>
            <result name="success" type="velocity">/view-artifact.vm</result>
        </action>

        <action name="browseProjectDir" class="com.zutubi.pulse.web.project.BrowseProjectDirAction">
            <interceptor-ref name="completeReadOnlyStack"/>
            <result name="success" type="velocity">/browse-project-dir.vm</result>
        </action>

        <action name="cat" class="com.zutubi.pulse.web.vfs.CatAction">
            <interceptor-ref name="completeReadOnlyStack"/>
            <result name="success" type="stream">
                <param name="contentType">${contentType}</param>
                <param name="contentDisposition">filename="${filename}"</param>
            </result>
        </action>

        <action name="zip" class="com.zutubi.pulse.web.vfs.ZipAction">
            <interceptor-ref name="completeReadOnlyStack"/>
            <result name="success" type="stream">
                <param name="contentType">${contentType}</param>
                <param name="contentDisposition">filename="${filename}"</param>
            </result>
        </action>

        <action name="browseProjectScm" class="com.zutubi.pulse.web.project.BrowseProjectScmAction">
            <interceptor-ref name="completeReadOnlyStack"/>
            <result name="success" type="velocity">/browse-project-scm-dir.vm</result>
        </action>

        <action name="downloadSCMFile" class="com.zutubi.pulse.web.project.DownloadSCMFileAction">
            <interceptor-ref name="completeReadOnlyStack"/>
            <result name="success" type="stream">
                <param name="contentType">${contentType}</param>
                <param name="contentDisposition">filename="${filename}"</param>
            </result>
        </action>

        <action name="index!default" class="com.zutubi.pulse.web.ActionSupport">
            <result name="success" type="velocity">/index.vm</result>
        </action>

        <action name="currentBuild" class="com.zutubi.pulse.web.project.ProjectHomeAction">
            <interceptor-ref name="ajaxReadOnlyStack"/>
            <result name="success" type="velocity">/project-home.vm</result>
            <result name="error" type="redirect">/browse/</result>
        </action>

        <action name="projectState" class="com.zutubi.pulse.web.project.ProjectStateAction">
            <result name="success" type="redirect">/browse/projects/${u_projectName}/</result>
        </action>

        <action name="history" class="com.zutubi.pulse.web.project.HistoryAction">
            <interceptor-ref name="completeReadOnlyStack"/>
            <result name="success" type="velocity">/history.vm</result>
        </action>

        <action name="viewTriggers" class="com.zutubi.pulse.web.scheduling.ViewTriggersAction">
            <result name="success" type="velocity">/view-triggers.vm</result>
        </action>

        <action name="viewSystemInfo" class="com.zutubi.pulse.web.agents.SystemInfoAction">
            <interceptor-ref name="completeReadOnlyStack"/>
            <result name="success" type="velocity">/view-systeminfo.vm</result>
        </action>

        <action name="garbageCollect" class="com.zutubi.pulse.web.console.GarbageCollectAction">
            <result name="success" type="redirect">/viewSystemInfo.action</result>
        </action>

        <action name="quartzSystemInfo" class="com.zutubi.pulse.web.console.QuartzAdminAction">
            <result name="success" type="velocity">/view-quartz.vm</result>
        </action>

        <action name="deleteBuild" class="com.zutubi.pulse.web.project.DeleteBuildAction">
            <result name="success" type="redirect">/browse/projects/${u_projectName}/</result>
        </action>

        <action name="rss" class="com.zutubi.pulse.web.rss.BuildResultsRssAction">
            <interceptor-ref name="completeReadOnlyStack"/>
        </action>

        <action name="projectReports" class="com.zutubi.pulse.web.project.ViewReportsAction">
            <interceptor-ref name="completeReadOnlyStack"/>
            <result name="success" type="velocity">/project-reports.vm</result>
            <result name="input" type="velocity">/project-reports.vm</result>
        </action>
    </package>

    <package name="dashboard" namespace="/dashboard" extends="webwork-default-package">
        <default-interceptor-ref name="completeReadOnlyStack"/>

        <action name="home" class="com.zutubi.pulse.web.user.DashboardAction">
            <interceptor-ref name="ajaxReadOnlyStack"/>
            <result name="success" type="velocity">/dashboard.vm</result>
            <result name="guest" type="redirect">/viewProjects.action</result>
        </action>

        <action name="my" class="com.zutubi.pulse.web.user.MyBuildsAction">
            <interceptor-ref name="ajaxReadOnlyStack"/>
            <result name="success" type="velocity">/my-builds.vm</result>
            <result name="guest" type="redirect">/viewProjects.action</result>
        </action>
    </package>

    <package name="personal" namespace="/personal" extends="webwork-default-package">
        <default-interceptor-ref name="completeStack"/>

        <action name="personalBuild" class="com.zutubi.pulse.web.PersonalBuildAction">
            <result name="error" type="velocity">error.vm</result>
            <result name="success" type="velocity">success.vm</result>
        </action>
    </package>

    <package name="user" namespace="/user" extends="webwork-default-package">
        <default-interceptor-ref name="completeStack"/>

        <action name="hideDashboardProject" class="com.zutubi.pulse.web.user.HideDashboardProjectAction">
            <result name="success" type="redirect">/dashboard/home/</result>
        </action>

        <action name="hideDashboardGroup" class="com.zutubi.pulse.web.user.HideDashboardGroupAction">
            <result name="success" type="redirect">/dashboard/home/</result>
        </action>
    </package>

    <package name="startup" namespace="/startup" extends="webwork-default-package">
        <!--
        a simple redirect to ensure that if the startup requests '/startup/starting.action'
        from this xwork config, it handles it gracefully.
         -->
        <action name="starting" class="com.zutubi.pulse.web.ActionSupport">
            <result name="success" type="redirect">/</result>
        </action>
    </package>

    <package name="setup" namespace="/setup" extends="webwork-default-package">
        <!--
        a simple redirect to ensure that if the setup requests '/setup/execute.action'
        from this xwork config, it handles it gracefully.
         -->
        <action name="execute" class="com.zutubi.pulse.web.ActionSupport">
            <result name="success" type="redirect">/</result>
        </action>
    </package>

    <package name="admin" namespace="/admin" extends="webwork-default-package">
        <default-interceptor-ref name="completeStack"/>

        <action name="hibernateStatistics" class="com.zutubi.pulse.web.admin.debug.DumpHibernateStatisticsAction">
            <interceptor-ref name="defaultReadOnlyStack"/>
            <result name="success" type="velocity">hibernate-statistics.vm</result>
        </action>

        <action name="toggleHibernateStatistics" class="com.zutubi.pulse.web.admin.debug.ToggleHibernateStatisticsAction">
            <interceptor-ref name="defaultReadOnlyStack"/>
            <result name="success" type="redirect">hibernateStatistics.action</result>
        </action>

        <action name="toggleRecipeQueue" class="com.zutubi.pulse.web.admin.ToggleRecipeQueueAction">
            <result name="success" type="redirect">/viewServerQueues.action</result>
        </action>

        <action name="disableUser" class="com.zutubi.pulse.web.admin.user.DisableUserAction">
            <result name="input" type="velocity">undefined.vm</result>
            <result name="success" type="redirect">viewUsers.action?startPage=${startPage}</result>
        </action>

        <action name="editLicense" class="com.zutubi.pulse.web.admin.ManageLicenseAction">
            <result name="input" type="velocity">edit-license.vm</result>
            <result name="success" type="redirect">/admin/serverSettings.action</result>
            <result name="cancel" type="redirect">/admin/serverSettings.action</result>
        </action>

        <action name="addSystemProperty" class="com.zutubi.pulse.web.admin.SystemPropertiesAction" method="doAdd">
            <result name="success" type="redirect">/admin/serverSettings.action</result>
        </action>
        
        <action name="removeSystemProperty" class="com.zutubi.pulse.web.admin.SystemPropertiesAction" method="doRemove">
            <result name="success" type="redirect">/admin/serverSettings.action</result>
        </action>

        <action name="installPlugin" class="com.zutubi.pulse.web.admin.plugins.InstallPluginAction">
            <result name="input" type="velocity">addplugin.vm</result>
            <result name="error" type="velocity">addplugin.vm</result>
            <result name="success" type="redirect">/admin/plugins/</result>
            <result name="cancel" type="redirect">/admin/plugins/</result>
        </action>

        <action name="display" class="com.zutubi.prototype.webwork.DisplayScopeAction">
            <interceptor-ref name="defaultReadOnlyStack"/>
            <result name="config" type="velocity">scope.vm</result>
            <result name="template" type="velocity">templated-scope.vm</result>
            <!-- FIXME: replace this and related code in the action with an interceptor -->
            <result name="guest" type="redirect">/viewProjects.action</result>
        </action>

        <action name="plugins" class="com.zutubi.pulse.web.admin.plugins.PluginsAction">
            <result name="success" type="velocity">plugins.vm</result>
        </action>
    </package>

    <package name="ajax" namespace="/ajax" extends="webwork-default-package">
        <default-interceptor-ref name="ajaxReadOnlyStack"/>

        <global-results>
            <result name="error" type="velocity">/ajax/generic-error-panel.vm</result>
        </global-results>

        <action name="dashboardPanel" class="com.zutubi.pulse.web.user.DashboardAction">
            <result name="success" type="velocity">dashboard-panel.vm</result>
            <result name="error" type="redirect">/</result>
        </action>

        <action name="myBuildsPanel" class="com.zutubi.pulse.web.user.MyBuildsAction">
            <result name="success" type="velocity">my-builds-panel.vm</result>
            <result name="error" type="redirect">/</result>
        </action>

        <action name="viewProjectsPanel" class="com.zutubi.pulse.web.project.ViewProjectsAction">
            <result name="success" type="velocity">view-projects-panel.vm</result>
        </action>

        <action name="projectHomePanel" class="com.zutubi.pulse.web.project.ProjectHomeAction">
            <result name="success" type="velocity">project-home-panel.vm</result>
        </action>

        <action name="viewBuildPanel" class="com.zutubi.pulse.web.project.ViewBuildAction">
            <result name="success" type="velocity">view-build-panel.vm</result>
        </action>

        <action name="tailRecipeLogPanel" class="com.zutubi.pulse.web.project.TailRecipeLogAction">
            <result name="tail" type="velocity">tail-recipe-log-panel.vm</result>
        </action>

        <action name="historyPanel" class="com.zutubi.pulse.web.project.HistoryAction">
            <result name="success" type="velocity">history-panel.vm</result>
        </action>

        <action name="viewAgentsPanel" class="com.zutubi.pulse.web.agents.ViewAgentsAction">
            <result name="success" type="velocity">view-agents-panel.vm</result>
        </action>

        <action name="viewServerQueuesPanel" class="com.zutubi.pulse.web.server.ViewServerQueuesAction">
            <result name="success" type="velocity">view-server-queues-panel.vm</result>
        </action>

        <action name="ls" class="com.zutubi.pulse.web.vfs.LsAction">
            <result name="success" type="json">ls.xml</result>
            <result name="error" type="json">error.xml</result>
        </action>

        <action name="mkdir" class="com.zutubi.pulse.web.vfs.MkdirAction">
            <result name="success" type="json">mkdir.xml</result>
            <result name="error" type="json">error.xml</result>
        </action>

        <action name="rmdir" class="com.zutubi.pulse.web.vfs.RmAction">
            <result name="success" type="json">rmdir.xml</result>
            <result name="error" type="json">error.xml</result>
        </action>

        <action name="customiseBuildColumns" class="com.zutubi.pulse.web.user.CustomiseBuildColumnsAction">
            <interceptor-ref name="ajaxStack"/>
            <result name="success" type="httpheader">200</result>
        </action>

        <action name="getLatestRevision" class="com.zutubi.pulse.web.ajax.GetLatestRevisionAction">
            <result name="success" type="json">revision.xml</result>
        </action>

        <action name="triggerBuildHook" class="com.zutubi.pulse.web.ajax.TriggerBuildHookAction">
            <result name="success" type="flexjson">result</result>
        </action>
    </package>

    <package name="configAjax" namespace="/aconfig" extends="default">
        <default-interceptor-ref name="ajaxStack"/>

        <action name="display" class="com.zutubi.prototype.webwork.DisplayAction">
            <result name="composite" type="velocity">composite.vm</result>
            <result name="map" type="velocity">map.vm</result>
        </action>

        <action name="wizard" class="com.zutubi.prototype.wizard.webwork.AjaxEnabledConfigurationWizardAction">
            <interceptor-ref name="ajaxPrototypeWizardStack"/>
            <result name="step" type="flexjson">configurationPanel</result>
            <result name="input" type="flexjson">configurationErrors</result>
            <result name="error" type="flexjson">configurationErrors</result>
            <result name="cancel" type="flexjson">configurationResponse</result>
            <result name="success" type="flexjson">configurationResponse</result>
        </action>

        <action name="save" class="com.zutubi.prototype.webwork.SaveAction">
            <result name="composite" type="flexjson">configurationResponse</result>
            <result name="map" type="flexjson">configurationResponse</result>
            <result name="input" type="flexjson">configurationErrors</result>
        </action>

        <action name="delete" class="com.zutubi.prototype.webwork.DeleteAction">
            <result name="confirm" type="flexjson">newPanel</result>
            <result name="success" type="flexjson">configurationResponse</result>
            <result name="cancel" type="flexjson">configurationResponse</result>
        </action>

        <action name="restore" class="com.zutubi.prototype.webwork.RestoreAction">
            <result name="success" type="flexjson">configurationResponse</result>
            <result name="cancel" type="flexjson">configurationResponse</result>
        </action>

        <action name="up" class="com.zutubi.prototype.webwork.OrderAction">
            <param name="moveUp">true</param>
            <result name="success" type="flexjson">configurationResponse</result>
        </action>

        <action name="down" class="com.zutubi.prototype.webwork.OrderAction">
            <param name="moveUp">false</param>
            <result name="success" type="flexjson">configurationResponse</result>
        </action>

        <action name="ls" class="com.zutubi.prototype.webwork.LsAction">
            <param name="basePath">config</param>
            <result name="success" type="flexjson">listing</result>
            <result name="error" type="json">/ajax/error.xml</result>
        </action>

        <action name="check" class="com.zutubi.prototype.webwork.CheckAction">
            <result name="input" type="flexjson">configurationErrors</result>
            <result name="success" type="flexjson">checkResponse</result>
        </action>

        <action name="generic" class="com.zutubi.prototype.webwork.GenericAction">
            <result name="error" type="flexjson">configurationErrors</result>
            <result name="input" type="flexjson">newPanel</result>
            <result name="success" type="flexjson">configurationResponse</result>
        </action>
        
    </package>

    <package name="templateAjax" namespace="/atemplate" extends="default">
        <default-interceptor-ref name="ajaxStack"/>

        <action name="ls" class="com.zutubi.prototype.webwork.LsAction">
            <param name="basePath">templates</param>
            <result name="success" type="flexjson">listing</result>
            <result name="error" type="json">/ajax/error.xml</result>
        </action>

        <action name="display" class="com.zutubi.prototype.webwork.DisplayTemplateAction">
            <result name="success" type="velocity">template.vm</result>
        </action>
    </package>

    <package name="adminAjax" namespace="/ajax/admin" extends="admin">
        <default-interceptor-ref name="ajaxStack"/>

        <action name="allPlugins" class="com.zutubi.pulse.web.admin.plugins.PluginsAction">
            <interceptor-ref name="ajaxReadOnlyStack"/>
            <result name="success" type="velocity">/ajax/all-plugins.vm</result>
        </action>

        <action name="viewPlugin" class="com.zutubi.pulse.web.admin.plugins.ViewPluginAction">
            <interceptor-ref name="ajaxReadOnlyStack"/>
            <result name="success" type="velocity">/ajax/view-plugin.vm</result>
        </action>

        <action name="uninstallPlugin" class="com.zutubi.pulse.web.admin.plugins.UnInstallPluginAction">
            <result name="success" type="httpheader">200</result>
        </action>

        <action name="enablePlugin" class="com.zutubi.pulse.web.admin.plugins.EnablePluginAction">
            <result name="success" type="httpheader">200</result>
        </action>

        <action name="disablePlugin" class="com.zutubi.pulse.web.admin.plugins.DisablePluginAction">
            <result name="success" type="httpheader">200</result>
        </action>
    </package>

    <package name="popups" namespace="/popups" extends="webwork-default-package">
        <default-interceptor-ref name="completeReadOnlyStack"/>

        <action name="browseResources" class="com.zutubi.pulse.web.project.BrowseResourcesAction">
            <result name="success" type="velocity">resource-browser.vm</result>
        </action>

        <action name="new-folder" class="com.zutubi.pulse.web.ActionSupport">
            <result name="success" type="velocity">tree/browse-new-folder.vm</result>
        </action>

        <action name="fileDialog" class="com.zutubi.pulse.web.admin.AddResourceFileDialogAction">
            <result name="success" type="velocity">tree/filedialog.vm</result>
        </action>

        <action name="pluginFileDialog" class="com.zutubi.pulse.web.admin.plugins.PluginFileDialogAction">
            <result name="success" type="velocity">tree/filedialog.vm</result>
        </action>

        <action name="scmFileDialog" class="com.zutubi.pulse.web.admin.ScmFileDialogAction">
            <result name="success" type="velocity">tree/filedialog.vm</result>
        </action>
    </package>

</xwork>
