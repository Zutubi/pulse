<!DOCTYPE xwork PUBLIC "-//OpenSymphony Group//XWork 1.0//EN"
        "http://www.opensymphony.com/xwork/xwork-1.0.dtd">

<xwork>
    <include file="webwork-default-package.xml"/>

    <package name="default" extends="webwork-default-package">
        <default-interceptor-ref name="completeStack"/>

        <action name="serverStatus" class="com.cinnamonbob.web.ServerStatusAction">
            <result name="success" type="velocity">server-status.vm</result>
        </action>

        <action name="viewProjects" class="com.cinnamonbob.web.project.ViewProjectsAction">
            <result name="success" type="velocity">view-projects.vm</result>
        </action>

        <action name="viewBuild" class="com.cinnamonbob.web.project.ViewBuildAction">
            <result name="success" type="velocity">view-build.vm</result>
            <result name="error" type="velocity">generic-error.vm</result>
        </action>

        <action name="viewChangelist" class="com.cinnamonbob.web.project.ViewChangelistAction">
            <result name="success" type="velocity">view-changelist.vm</result>
            <result name="error" type="velocity">generic-error.vm</result>
        </action>

        <action name="triggerBuild" class="com.cinnamonbob.web.project.TriggerBuildAction">
            <result name="success" type="redirect">manageProject.action?id=${projectId}</result>
            <result name="error" type="velocity">generic-error.vm</result>
        </action>

        <action name="viewArtifact" class="com.cinnamonbob.web.project.ViewArtifactAction">
            <result name="success" type="stream">
                <param name="contentType">${contentType}</param>
            </result>
            <result name="error" type="velocity">generic-error.vm</result>
        </action>

        <action name="viewUsers" class="com.cinnamonbob.web.user.ViewUsersAction">
            <result name="success" type="velocity">view-users.vm</result>
        </action>

        <action name="findUsers!default" class="com.opensymphony.xwork.ActionSupport">
            <interceptor-ref name="defaultStack"/>
            <result name="success" type="velocity">find-user.vm</result>
        </action>

        <action name="findUsers" class="com.cinnamonbob.web.user.FindUsersAction">
            <result name="input" type="velocity">find-user.vm</result>
            <result name="success" type="velocity">find-user.vm</result>
        </action>

        <action name="createUser!default" class="com.cinnamonbob.web.user.CreateUserAction" method="doDefault">
            <interceptor-ref name="defaultStack"/>
            <result name="success" type="velocity">create-user.vm</result>
        </action>

        <action name="createUser" class="com.cinnamonbob.web.user.CreateUserAction">
            <result name="input" type="velocity">create-user.vm</result>
            <result name="cancel" type="velocity">undefined.vm</result>
            <result name="error" type="velocity">create-user.vm</result>
            <result name="success" type="redirect">/viewUser.action?id=${user.id}</result>
        </action>

        <action name="editUser!default" class="com.cinnamonbob.web.user.EditUserAction" method="doDefault">
            <interceptor-ref name="defaultStack"/>
            <result name="success" type="velocity">edit-user.vm</result>
        </action>

        <action name="editUser" class="com.cinnamonbob.web.user.EditUserAction">
            <result name="input" type="velocity">edit-user.vm</result>
            <result name="cancel" type="velocity">undefined.vm</result>
            <result name="error" type="velocity">edit-user.vm</result>
            <result name="success" type="redirect">/viewUser.action?id=${id}</result>
        </action>

        <action name="createContactPoint!default" class="com.cinnamonbob.web.user.CreateContactPointAction"
                method="doDefault">
            <interceptor-ref name="defaultStack"/>
            <result name="success" type="velocity">create-contact.vm</result>
        </action>

        <action name="createContactPoint" class="com.cinnamonbob.web.user.CreateContactPointAction">
            <result name="input" type="velocity">create-contact.vm</result>
            <result name="success" type="velocity">create-contact-${type}.vm</result>
        </action>

        <action name="createEmailContactPoint" class="com.cinnamonbob.web.user.CreateEmailContactPointAction">
            <result name="input" type="velocity">create-contact-email.vm</result>
            <result name="cancel" type="redirect">/viewUser.action?id=${user}</result>
            <result name="success" type="redirect">/viewUser.action?id=${user}</result>
        </action>

        <action name="createYahooContactPoint" class="com.cinnamonbob.web.user.CreateYahooContactPointAction">
            <result name="input" type="velocity">create-contact-yahoo.vm</result>
            <result name="cancel" type="redirect">/viewUser.action?id=${user}</result>
            <result name="success" type="redirect">/viewUser.action?id=${user}</result>
        </action>

        <action name="editContactPoint!default" class="com.cinnamonbob.web.user.EditContactPointAction"
                method="doDefault">
            <result name="email" type="chain">editEmailContactPoint!default</result>
            <result name="yahoo" type="chain">editYahooContactPoint!default</result>
        </action>

        <action name="editEmailContactPoint!default" class="com.cinnamonbob.web.user.EditEmailContactPointAction"
                method="doDefault">
            <interceptor-ref name="defaultStack"/>
            <result name="success" type="velocity">edit-contact-email.vm</result>
        </action>

        <action name="editEmailContactPoint" class="com.cinnamonbob.web.user.EditEmailContactPointAction">
            <result name="input" type="velocity">edit-contact-email.vm</result>
            <result name="cancel" type="redirect">/viewUser.action?id=${user}</result>
            <result name="success" type="redirect">/viewUser.action?id=${user}</result>
        </action>

        <action name="editYahooContactPoint!default" class="com.cinnamonbob.web.user.EditYahooContactPointAction"
                method="doDefault">
            <interceptor-ref name="defaultStack"/>
            <result name="success" type="velocity">edit-contact-yahoo.vm</result>
        </action>

        <action name="editYahooContactPoint" class="com.cinnamonbob.web.user.EditYahooContactPointAction">
            <result name="input" type="velocity">edit-contact-yahoo.vm</result>
            <result name="cancel" type="redirect">/viewUser.action?id=${user}</result>
            <result name="success" type="redirect">/viewUser.action?id=${user}</result>
        </action>

        <action name="deleteContactPoint" class="com.cinnamonbob.web.user.DeleteContactPointAction">
            <result name="success" type="redirect">/viewUser.action?id=${user}</result>
        </action>

        <action name="viewUser" class="com.cinnamonbob.web.user.ViewUserAction">
            <result name="input" type="velocity">undefined.vm</result>
            <result name="success" type="velocity">view-user.vm</result>
        </action>

        <action name="index!default" class="com.cinnamonbob.web.ActionSupport">
            <result name="success" type="velocity">index.vm</result>
        </action>

        <action name="createProject!default" class="com.cinnamonbob.web.project.CreateProjectAction" method="doDefault">
            <interceptor-ref name="defaultStack"/>
            <result name="success" type="velocity">create-project.vm</result>
        </action>

        <action name="createProject" class="com.cinnamonbob.web.project.CreateProjectAction">
            <result name="input" type="velocity">create-project.vm</result>
            <result name="cancel" type="velocity">undefined.vm</result>
            <result name="success" type="redirect">/manageProject.action?id=${id}</result>
        </action>

        <action name="findProjects!default" class="com.cinnamonbob.web.ActionSupport">
            <interceptor-ref name="defaultStack"/>
            <result name="success" type="velocity">find-project.vm</result>
        </action>

        <action name="findProjects" class="com.cinnamonbob.web.project.FindProjectsAction">
            <result name="input" type="velocity">find-project.vm</result>
            <result name="success" type="velocity">find-project.vm</result>
        </action>

        <action name="editProject!default" class="com.cinnamonbob.web.project.EditProjectAction" method="doDefault">
            <interceptor-ref name="defaultStack"/>
            <result name="success" type="velocity">edit-project.vm</result>
        </action>

        <action name="editProject" class="com.cinnamonbob.web.project.EditProjectAction">
            <result name="input" type="velocity">edit-project.vm</result>
            <result name="cancel" type="redirect">/manageProject.action?id=${id}</result>
            <result name="success" type="redirect">/manageProject.action?id=${id}</result>
        </action>

        <action name="manageProject" class="com.cinnamonbob.web.project.ManageProjectAction">
            <result name="success" type="velocity">manage-project.vm</result>
        </action>

        <action name="createScm!default" class="com.cinnamonbob.web.project.CreateScmAction" method="doDefault">
            <interceptor-ref name="defaultStack"/>
            <result name="success" type="velocity">create-scm.vm</result>
        </action>

        <action name="createScm" class="com.cinnamonbob.web.project.CreateScmAction">
            <result name="input" type="velocity">create-scm.vm</result>
            <result name="success" type="velocity">create-scm-${type}.vm</result>
        </action>

        <action name="createP4" class="com.cinnamonbob.web.project.CreateP4Action">
            <result name="input" type="velocity">create-scm-p4.vm</result>
            <result name="cancel" type="redirect">/manageProject.action?id=${project}</result>
            <result name="success" type="redirect">/manageProject.action?id=${project}</result>
        </action>

        <action name="createSvn" class="com.cinnamonbob.web.project.CreateSvnAction">
            <result name="input" type="velocity">create-scm-svn.vm</result>
            <result name="cancel" type="redirect">/manageProject.action?id=${project}</result>
            <result name="success" type="redirect">/manageProject.action?id=${project}</result>
        </action>

        <action name="createCvs" class="com.cinnamonbob.web.project.CreateCvsAction">
            <result name="input" type="velocity">create-scm-cvs.vm</result>
            <result name="cancel" type="redirect">/manageProject.action?id=${project}</result>
            <result name="success" type="redirect">/manageProject.action?id=${project}</result>
        </action>

        <action name="editScm!default" class="com.cinnamonbob.web.project.EditScmAction" method="doDefault">
            <result name="svn" type="chain">editSvn!default</result>
            <result name="cvs" type="chain">editCvs!default</result>
            <result name="p4" type="chain">editP4!default</result>
        </action>

        <action name="editSvn!default" class="com.cinnamonbob.web.project.EditSvnAction" method="doDefault">
            <interceptor-ref name="defaultStack"/>
            <result name="success" type="velocity">edit-scm-svn.vm</result>
        </action>

        <action name="editSvn" class="com.cinnamonbob.web.project.EditSvnAction">
            <result name="input" type="velocity">edit-scm-svn.vm</result>
            <result name="cancel" type="redirect">/manageProject.action?id=${project}</result>
            <result name="success" type="redirect">/manageProject.action?id=${project}</result>
        </action>

        <action name="editCvs!default" class="com.cinnamonbob.web.project.EditCvsAction" method="doDefault">
            <interceptor-ref name="defaultStack"/>
            <result name="success" type="velocity">edit-scm-cvs.vm</result>
        </action>

        <action name="editCvs" class="com.cinnamonbob.web.project.EditCvsAction">
            <result name="input" type="velocity">edit-scm-cvs.vm</result>
            <result name="cancel" type="redirect">/manageProject.action?id=${project}</result>
            <result name="success" type="redirect">/manageProject.action?id=${project}</result>
        </action>

        <action name="editP4!default" class="com.cinnamonbob.web.project.EditP4Action" method="doDefault">
            <interceptor-ref name="defaultStack"/>
            <result name="success" type="velocity">edit-scm-p4.vm</result>
        </action>

        <action name="editP4" class="com.cinnamonbob.web.project.EditP4Action">
            <result name="input" type="velocity">edit-scm-p4.vm</result>
            <result name="cancel" type="redirect">/manageProject.action?id=${project}</result>
            <result name="success" type="redirect">/manageProject.action?id=${project}</result>
        </action>

        <action name="deleteScm" class="com.cinnamonbob.web.project.DeleteScmAction">
            <result name="input" type="velocity">view-project.vm</result>
            <result name="cancel" type="velocity">view-project.vm</result>
            <result name="error" type="velocity">view-project.vm</result>
            <result name="success" type="redirect">/manageProject.action?id=${id}</result>
        </action>

        <action name="addTrigger" class="com.cinnamonbob.web.wizard.WizardAction">
            <interceptor-ref name="wizardStack"/>
            <param name="wizardClass">com.cinnamonbob.web.project.AddTriggerWizard</param>
            <result name="select" type="velocity">select-trigger.vm</result>
            <result name="monitor" type="velocity">configure-monitor-trigger.vm</result>
            <result name="cron" type="velocity">configure-cron-trigger.vm</result>
            <result name="success" type="redirect">/manageProject.action?id=${project}</result>
            <result name="cancel" type="redirect">/manageProject.action?id=${project}</result>
        </action>

        <action name="createTrigger!default" class="com.cinnamonbob.web.project.CreateTriggerAction"
                method="doDefault">
            <interceptor-ref name="defaultStack"/>
            <result name="success" type="velocity">create-trigger.vm</result>
        </action>

        <action name="createTrigger" class="com.cinnamonbob.web.project.CreateTriggerAction">
            <result name="input" type="velocity">create-trigger.vm</result>
            <result name="cancel" type="velocity">undefined.vm</result>
            <result name="success" type="redirect">/manageProject.action?id=${project}</result>
        </action>

        <action name="deleteTrigger" class="com.cinnamonbob.web.project.DeleteTriggerAction">
            <result name="success" type="redirect">/manageProject.action?id=${projectId}</result>
        </action>

        <action name="createSubscription!default" class="com.cinnamonbob.web.user.CreateSubscriptionAction"
                method="doDefault">
            <interceptor-ref name="defaultStack"/>
            <result name="success" type="velocity">create-subscription.vm</result>
        </action>

        <action name="createSubscription" class="com.cinnamonbob.web.user.CreateSubscriptionAction">
            <result name="input" type="velocity">create-subscription.vm</result>
            <result name="cancel" type="redirect">/</result>
            <result name="success" type="redirect">/viewUser.action?login=${user}</result>
        </action>

        <action name="deleteSubscription" class="com.cinnamonbob.web.user.DeleteSubscriptionAction">
            <result name="success" type="redirect">/viewUser.action?login=${login}</result>
        </action>

        <action name="editSubscription!default" class="com.cinnamonbob.web.user.EditSubscriptionAction"
                method="doDefault">
            <interceptor-ref name="defaultStack"/>
            <result name="success" type="velocity">edit-subscription.vm</result>
        </action>

        <action name="editSubscription" class="com.cinnamonbob.web.user.EditSubscriptionAction">
            <result name="input" type="velocity">edit-subscription.vm</result>
            <result name="cancel" type="redirect">/viewUser.action?login=${login}</result>
            <result name="success" type="redirect">/viewUser.action?login=${login}</result>
        </action>

        <action name="viewSystemInfo" class="com.cinnamonbob.web.console.SystemInfoAction">
            <result name="success" type="velocity">view-systeminfo.vm</result>
        </action>

        <action name="garbageCollect" class="com.cinnamonbob.web.console.GarbageCollectAction">
            <result name="success" type="redirect">/viewSystemInfo.action</result>
        </action>

        <action name="quartzSystemInfo" class="com.cinnamonbob.web.console.QuartzAdminAction">
            <result name="success" type="velocity">view-quartz.vm</result>
        </action>

        <action name="createSlave!default" class="com.cinnamonbob.web.CreateSlaveAction" method="doDefault">
            <interceptor-ref name="defaultStack"/>
            <result name="success" type="velocity">create-slave.vm</result>
        </action>

        <action name="createSlave" class="com.cinnamonbob.web.CreateSlaveAction">
            <result name="input" type="velocity">create-slave.vm</result>
            <result name="cancel" type="velocity">undefined.vm</result>
            <result name="error" type="velocity">create-slave.vm</result>
            <result name="success" type="redirect">/serverStatus.action</result>
        </action>

        <action name="editSlave!default" class="com.cinnamonbob.web.EditSlaveAction" method="doDefault">
            <interceptor-ref name="defaultStack"/>
            <result name="success" type="velocity">edit-slave.vm</result>
        </action>

        <action name="editSlave" class="com.cinnamonbob.web.EditSlaveAction">
            <result name="error" type="velocity">edit-slave.vm</result>
            <result name="input" type="velocity">edit-slave.vm</result>
            <result name="cancel" type="redirect">/serverStatus.action</result>
            <result name="success" type="redirect">/serverStatus.action</result>
        </action>

        <action name="deleteSlave" class="com.cinnamonbob.web.DeleteSlaveAction">
            <result name="error" type="redirect">/serverStatus.action</result>
            <result name="success" type="redirect">/serverStatus.action</result>
        </action>

        <action name="createBuildSpecification!default"
                class="com.cinnamonbob.web.project.CreateBuildSpecificationAction" method="doDefault">
            <interceptor-ref name="defaultStack"/>
            <result name="success" type="velocity">create-build-specification.vm</result>
        </action>

        <action name="createBuildSpecification" class="com.cinnamonbob.web.project.CreateBuildSpecificationAction">
            <result name="input" type="velocity">create-build-specification.vm</result>
            <result name="cancel" type="velocity">undefined.vm</result>
            <result name="error" type="velocity">create-build-specification.vm</result>
            <result name="success" type="redirect">/viewBuildSpecification.action?id=${specification.id}</result>
        </action>

        <action name="deleteBuildSpecification" class="com.cinnamonbob.web.project.DeleteBuildSpecificationAction">
            <result name="success" type="redirect">/manageProject.action?id=${projectId}</result>
            <result name="error" type="velocity">generic-error.vm</result>
        </action>

        <action name="createBuildSpecificationNode!default"
                class="com.cinnamonbob.web.project.CreateBuildSpecificationNodeAction" method="doDefault">
            <interceptor-ref name="defaultStack"/>
            <result name="success" type="velocity">create-build-specification-node.vm</result>
        </action>

        <action name="createBuildSpecificationNode"
                class="com.cinnamonbob.web.project.CreateBuildSpecificationNodeAction">
            <result name="input" type="velocity">create-build-specification-node.vm</result>
            <result name="cancel" type="velocity">undefined.vm</result>
            <result name="error" type="velocity">create-build-specification-node.vm</result>
            <result name="success" type="redirect">/viewBuildSpecification.action?id=${specId}</result>
        </action>

        <action name="viewBuildSpecification" class="com.cinnamonbob.web.project.ViewBuildSpecificationAction">
            <result name="success" type="velocity">view-build-specification.vm</result>
            <result name="error" type="velocity">generic-error.vm</result>
        </action>
    </package>
</xwork>
