<html>
<head>
    <link href="build.css" rel="stylesheet" type="text/css">
    <title>view build specification</title>
</head>
<content tag="action">build-specification.edit</content>
<body>
  <h1 class="build-log">:: $specification.name ::</h1>

#macro(showNodes $parent $list)
  <ul>
    #foreach($node in $list)
      <li>$node.stage.hostRequirements.getSummary(): $node.stage.recipeSafe</li>
      #showNodes($node $node.children)
    #end
    <li>+ <a href="createBuildSpecificationNode!default.action?specId=$id&parentId=$parent.id">add stage</a></li>
  </ul>
#end

  <h2 class="command-info">build stages</h2>
  <div class="command-content">
    #showNodes($specification.root $specification.root.children)
  </div>
</body>
</html>
