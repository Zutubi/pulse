<html>
<head>
    <meta http-equiv="refresh" content='5;url=#wwurl("includeParams=all")'/>
</head>

<body>

<h1 id="upgrade.progress">Upgrade Progress</h1>

<p>
    The upgrade is currently in progress.
</p>

<p>

<table width=500>
    <tr>
        <td colspan="2" nowrap>Percentage complete: $monitor.getPercentageComplete()%</td>
    </tr>
    <tr width="40%">
        #if ($monitor.isSuccessful())
            #set($styleClass = "okaybar")
        #elseif($monitor.isError())
            #set($styleClass = "errorbar")
        #else
            #set($styleClass = "clearbar")
        #end
        #if ($monitor.getPercentageComplete() == 0)
            <td colspan="2" class="clearbar">&nbsp;</td>
        #else
            <td width="$monitor.getPercentageComplete()%" class="$styleClass"/>
            <td class="clearbar">&nbsp;</td>
        #end
    </tr>
</table>

</p>

#if($orderedTaskGroups.size() > 0)
<p>
    To use this directory we will need to execute the following upgrade tasks.
    #foreach($groupProgress in $orderedTaskGroups)
    <table class="columns" width="40%">
        <tr>
            <td class="columns" width="90%">
                <table id="upgrade.task.details" class="fill-content">
                    #foreach($task in $groupProgress.tasks)
                    #dynamicRow($task.name $task.status)
                    #end
                </table>
            </td>
        </tr>
    </table>
    #end
</p>
#end

<p>
    Elapsed time: $monitor.getElaspedTime()
</p>

</body>
</html>