<content tag="selectedTab">projects</content>
<html>
    <head>
        <title>#wwtext("name=projects")</title>
    </head>
    <body>
        <h1>:: #wwtext("name=projects") ::</h1>
        <table class="content">
            #headingRow("latest.builds" 8)
            <tr>
                #contentHeading("project.name" 1)
                #contentHeading("build.status" 2)
                #contentHeading("last.built" 1)
                #contentHeading("build.id" 1)
                #contentHeading("build.elapsed" 1)
                #contentHeading("actions" 2)
            </tr>

#foreach($project in $projects)
    #set($index = $velocityCount - 1)

            <tr>
                <td class="content"><a href="currentBuild.action?id=$project.id">$!webwork.htmlEncode($project.name)</a></td>

    #if($latestBuilds.get($index))
        #set($lastResult = $latestBuilds.get($index))
        #set($cssClass = $lastResult.state.string)

                #statusCell($lastResult)
                #classCell($lastResult.stamps.prettyStartTime)
                #classCell($lastResult.number)
                #classCell($lastResult.stamps.prettyElapsed)
                #viewCell($project $id)
                #changesCell($project $id)
    #else
                #contentCell("empty.cell")
                #contentCell("not.applicable")
                #contentCell("built.never")
                #contentCell("not.applicable")
                #contentCell("not.applicable")
                #contentCell("empty.cell")
                #contentCell("empty.cell")
    #end
            </tr>
#end
            #addRow("add.project" 8 "addProject.action")
        </table>
    </body>
</html>
