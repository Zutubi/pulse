#helpTag("Changelist+View")
#authorisationTags($principle)
#if($buildResult)
    #buildTags($buildResult.project $buildResult)
#end
<html>
<head>
    <title>#wwtext("name=changelist") $changelist.revision</title>
</head>
<body>
    <div id="pagecontent">
    
    <h1>:: #wwtext("name=changelist") $changelist.revision ::</h1>

    <table class="content">
        #headingRow("changelist.details" 2)
        #dynamicRow("changelist.revision" $changelist.revision)
        #dynamicRow("changelist.who" $changelist.user)
        <tr>
            #contentRowHeading("changelist.when")
            #dateCell($changelist)
        </tr>
        <tr>
            #contentRowHeading("changelist.comment")
            <td class="content-wrap">$action.transformComment($changelist)</td>
        </tr>
    </table>

    <table class="content">
       #headingRow("changelist.builds" 5)
       <tr>
           #contentHeading("project" 1)
           #contentHeading("build.id" 1)
           #contentHeading("build.spec" 1)
           #contentHeading("status" 2)
        </tr>
#foreach($result in $buildResults)
        <tr>
            <td class="content"><a href="currentBuild.action?id=$result.project.id">$!webwork.htmlEncode($result.project.name)</a></td>

            #set($result = $latestBuilds.get($index))
            #set($cssClass = $result.state.string)

            <td class="content-right"><a href="viewBuild.action?id=$result.id">$result.number</a></td>
            #classCell($result.buildSpecification)
            #statusCell($result true)
        </tr>
#end

    <table class="content">
        #headingRow("changelist.files" 3)
        <tr>
            #contentHeading("changelist.file" 1)
            #contentHeading("changelist.revision" 1)
            #contentHeading("changelist.action" 1)
        </tr>
#foreach($file in $changelist.changes)
        <tr>
            #dynamicCell($file.filename)
            #rightCell($file.revision)
            #dynamicCell($file.action.toString().toLowerCase())
        </tr>
#end
    </table>

    </div>
</html>
