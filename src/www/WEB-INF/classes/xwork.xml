<!DOCTYPE xwork PUBLIC "-//OpenSymphony Group//XWork 1.0//EN" 
"http://www.opensymphony.com/xwork/xwork-1.0.dtd">

<xwork>
	<include file="webwork-default-package.xml" />
	
    <package name="default" extends="webwork-default-package">
        <default-interceptor-ref name="completeStack" /> 
		
		<action name="serverStatus" class="serverStatusAction">
			<result name="success" type="velocity">server-status.vm</result> 
		</action> 

		<action name="viewProjects" class="viewProjectsAction">
			<result name="success" type="velocity">view-projects.vm</result> 
		</action> 

		<action name="viewProject" class="viewProjectAction">
			<result name="success" type="velocity">view-project.vm</result> 
			<result name="error" type="velocity">generic-error.vm</result> 
		</action> 

		<action name="updateProject" class="updateProjectAction">
			<result name="success" type="redirect">viewProject.action?name=${project.Name}</result> 
			<result name="error" type="velocity">generic-error.vm</result> 
		</action> 

		<action name="viewBuild" class="viewBuildAction">
			<result name="success" type="velocity">view-build.vm</result> 
			<result name="error" type="velocity">generic-error.vm</result> 
		</action> 

		<action name="scheduleBuild" class="scheduleBuildAction">
			<result name="success" type="velocity">build-scheduled.vm</result>
			<result name="error" type="velocity">generic-error.vm</result>
		</action> 

		<action name="viewArtifact" class="viewArtifactAction">
			<result name="success" type="stream">
			    <param name="contentType">${contentType}</param>
			</result>
			<result name="error" type="velocity">generic-error.vm</result> 
		</action> 
        
        <action name="findUsers!default" class="com.opensymphony.xwork.ActionSupport">
            <interceptor-ref name="defaultStack"/>
            <result name="success" type="velocity">find-user.vm</result>
        </action>
        
        <action name="findUsers" class="com.cinnamonbob.web.user.FindUsersAction">
            <result name="input" type="velocity">find-user.vm</result>
            <result name="success" type="velocity">find-user.vm</result>
        </action>
        
        <action name="createUser!default" class="com.cinnamonbob.web.user.CreateUserAction" method="doDefault">
            <interceptor-ref name="defaultStack"/>
            <result name="success" type="velocity">create-user.vm</result>
        </action>
        
        <action name="createUser" class="com.cinnamonbob.web.user.CreateUserAction">
            <result name="input" type="velocity">create-user.vm</result>
            <result name="cancel" type="velocity">undefined.vm</result>
            <result name="error" type="velocity">create-user.vm</result>
            <result name="success" type="velocity">view-user.vm</result>
        </action>

        <action name="createContactPoint" class="com.cinnamonbob.web.user.CreateContactPointAction">
            <result name="input" type="velocity">view-user.vm</result>
            <result name="cancel" type="velocity">view-user.vm</result>
            <result name="error" type="velocity">view-user.vm</result>
            <result name="success" type="redirect">/viewUser.action?id=${id}</result>
        </action>

        <action name="deleteContactPoint" class="com.cinnamonbob.web.user.DeleteContactPointAction">
            <result name="input" type="velocity">view-user.vm</result>
            <result name="cancel" type="velocity">view-user.vm</result>
            <result name="error" type="velocity">view-user.vm</result>
            <result name="success" type="redirect">/viewUser.action?id=${id}</result>
        </action>

        <action name="viewUser" class="com.cinnamonbob.web.user.LoadUserAction">
            <result name="success" type="velocity">view-user.vm</result>
        </action>
        
        <action name="index!default" class="com.cinnamonbob.web.ActionSupport">
            <result name="success" type="velocity">index.vm</result>
        </action>
        
        <action name="createProject!default" class="com.cinnamonbob.web.project.CreateProjectAction" method="doDefault">
            <interceptor-ref name="defaultStack"/>
            <result name="success" type="velocity">create-project.vm</result>
        </action>
        
        <action name="createProject" class="com.cinnamonbob.web.project.CreateProjectAction">
            <result name="input" type="velocity">create-project.vm</result>
            <result name="cancel" type="velocity">undefined.vm</result>
            <result name="success" type="redirect">/manageProject.action?id=${id}</result>
        </action>

        <action name="findProjects!default" class="com.cinnamonbob.web.ActionSupport">
            <interceptor-ref name="defaultStack"/>
            <result name="success" type="velocity">find-project.vm</result>
        </action>

        <action name="findProjects" class="com.cinnamonbob.web.project.FindProjectsAction">
            <result name="input" type="velocity">find-project.vm</result>
            <result name="success" type="velocity">find-project.vm</result>
        </action>

        <action name="editProject!default" class="com.cinnamonbob.web.project.EditProjectAction" method="doDefault">
            <interceptor-ref name="defaultStack"/>
            <result name="success" type="velocity">edit-project.vm</result>
        </action>
        
        <action name="editProject" class="com.cinnamonbob.web.project.EditProjectAction">
            <result name="input" type="velocity">edit-project.vm</result>
            <result name="cancel" type="redirect">/manageProject.action?id=${id}</result>
            <result name="success" type="redirect">/manageProject.action?id=${id}</result>
        </action>
                
        <action name="manageProject" class="com.cinnamonbob.web.project.ManageProjectAction">
            <result name="success" type="velocity">manage-project.vm</result>
        </action>
        
        <action name="createScm!default" class="com.cinnamonbob.web.project.CreateScmAction" method="doDefault">
            <interceptor-ref name="defaultStack"/>
            <result name="success" type="velocity">create-scm.vm</result>
        </action>
        
        <action name="createScm" class="com.cinnamonbob.web.project.CreateScmAction">
            <result name="input" type="velocity">create-scm.vm</result>
            <result name="cancel" type="velocity">undefined.vm</result>
            <result name="success" type="redirect">/manageProject.action?id=${id}</result>
        </action>
        
        <action name="deleteScm" class="com.cinnamonbob.web.project.DeleteScmAction">
            <result name="input" type="velocity">view-project.vm</result>
            <result name="cancel" type="velocity">view-project.vm</result>
            <result name="error" type="velocity">view-project.vm</result>
            <result name="success" type="redirect">/manageProject.action?id=${id}</result>
        </action>

    </package>
</xwork>
