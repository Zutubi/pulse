<!DOCTYPE xwork PUBLIC "-//OpenSymphony Group//XWork 1.1.1//EN"
        "http://www.opensymphony.com/xwork/xwork-1.1.1.dtd">
<xwork>
    <include file="webwork-default-package.xml"/>

    <package name="default" extends="webwork-default-package">
        <default-interceptor-ref name="completeStack"/>

        <default-action-ref name="default"/>

        <action name="default" class="com.zutubi.pulse.master.xwork.actions.ActionSupport">
            <result name="success" type="redirect">/setup/app.action</result>
        </action>

        <action name="404" class="com.zutubi.pulse.master.xwork.actions.FourOhFourAction">
            <result name="404" type="velocity">404.vm</result>
            <result name="success" type="redirect">/setup/app.action</result>
        </action>
    </package>

    <package name="setup" namespace="/setup" extends="webwork-default-package">
        <default-interceptor-ref name="completeStack"/>

        <action name="app" class="com.zutubi.pulse.master.xwork.actions.setup.SetupAppAction">
            <result name="success" type="velocity">app.vm</result>
            <result name="redirect" type="redirect">/</result>
        </action>
    </package>

    <package name="ajax" namespace="/ajax" extends="webwork-default-package">
        <default-interceptor-ref name="ajaxStack"/>

        <default-action-ref name="default"/>

        <action name="default">
            <result name="success" type="startupajax"/>
        </action>
        
        <action name="mkdir" class="com.zutubi.pulse.master.xwork.actions.vfs.MakeDirectoryAction">
            <result name="success" type="flexjson">
                <param name="deep">true</param>
                <param name="location">result</param>
            </result>
            <result name="error" type="flexjson">
                <param name="deep">true</param>
                <param name="location">result</param>
            </result>
        </action>

        <action name="rmdir" class="com.zutubi.pulse.master.xwork.actions.vfs.RemoveDirectoryAction">
            <result name="success" type="flexjson">
                <param name="deep">true</param>
                <param name="location">result</param>
            </result>
            <result name="error" type="flexjson">
                <param name="deep">true</param>
                <param name="location">result</param>
            </result>
        </action>

        <action name="getHome" class="com.zutubi.pulse.master.xwork.actions.ajax.GetHomeDirectoryAction">
            <interceptor-ref name="ajaxStack"/>
            <result name="success" type="flexjson">data</result>
        </action>

        <action name="xls" class="com.zutubi.pulse.master.tove.webwork.LsAction">
            <result name="success" type="flexjson">listing</result>
            <result name="error" type="flexjson">
                <param name="deep">true</param>
                <param name="location">result</param>
            </result>
        </action>

    </package>

    <package name="aconfig" namespace="/ajax/config" extends="webwork-default-package">
        <default-interceptor-ref name="ajaxStack"/>

        <default-action-ref name="default"/>

        <action name="default">
            <result name="success" type="startupajax"/>
        </action>
    </package>

    <package name="ahelp" namespace="/ajax/help" extends="webwork-default-package">
        <default-interceptor-ref name="ajaxStack"/>

        <default-action-ref name="default"/>

        <action name="default">
            <result name="success" type="startupajax"/>
        </action>
    </package>

    <package name="aaction" namespace="/ajax/action" extends="webwork-default-package">
        <default-interceptor-ref name="ajaxStack"/>

        <default-action-ref name="default"/>

        <action name="default">
            <result name="success" type="startupajax"/>
        </action>
    </package>

    <package name="atemplate" namespace="/ajax/template" extends="webwork-default-package">
        <default-interceptor-ref name="ajaxStack"/>

        <default-action-ref name="default"/>

        <action name="default">
            <result name="success" type="startupajax"/>
        </action>
    </package>

</xwork>