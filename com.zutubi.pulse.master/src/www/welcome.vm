#macro(actionHeader $id $action $img $url)
    <th><img alt="$action" src="$base/images/${img}.gif"/> #if($url)<a href="$url" id="$id">#end$action#if($url)</a>#end</th>
#end

#authorisationTags($principle)
<html>
<head>
    <title>welcome</title>
    <style>
        h1 { margin-top: 0.8em; }
        table.template-actions, p { width: 770px; }
    </style>
</head>
<body>
    <h1 id="welcome.heading">:: #wwtext("name=welcome") :: </h1>
    <p>
        Welcome to Pulse 2.5 Alpha!  This page provides information on common next steps and important
        new features in the 2.5 release.
    </p>
    <p>
        You can return to this page at any time by clicking on the "pulse 2.5" link in the top left
        corner.
    </p>
    <h1> :: getting started :: </h1>
    <p>
        New to Pulse?  Here are a few ways to get started:
    </p>
    <table class="template-actions" cellspacing="5px">
        <tr>
            <th class="category" colspan="2">configure</th>
        </tr>
#auth("path=projects" "action=create")
        <tr>
            #actionHeader("add.projects" "add new projects" "add" "$urls.adminProjects()")
            <td>using the add project wizard (administration &gt; projects tab)</td>
        </tr>
#end
#auth("path=users" "action=create")
        <tr>
            #actionHeader("add.users" "add new users" "add" "$urls.adminUsers()")
            <td>at the users view (administration &gt; users tab)</td>
        </tr>
#end
#auth("path=agents" "action=create")
        <tr>
            #actionHeader("add.agents" "add new agents" "add" "$urls.adminAgents()")
            <td>using the add agent wizard (administration &gt; agents tab)</td>
        </tr>
#end
#auth("path=settings" "action=write")
        <tr>
            #actionHeader("configure.settings" "configure server settings" "pencil" "$urls.adminSettings()")
            <td>at the server settings view (administration &gt; settings tab)</td>
        </tr>
#end
        <tr>
            #actionHeader("configure.preferences" "configure your preferences" "pencil" "$urls.dashboardPreferences()")
            <td>at the preferences view (dashboard &gt; preferences tab)</td>
        </tr>
        <tr>
            <th class="category" colspan="2">explore</th>
        </tr>
        <tr>
            #actionHeader("view.dashboard" "go to your home page" "zoom" "$urls.dashboard()")
            <td>at the dashboard view (dashboard &gt; home)</td>
        </tr>
        <tr>
            #actionHeader("browse.projects" "browse build reports" "zoom" "$urls.browse()")
            <td>at the browse view (browse)</td>
        </tr>
        <tr>
            #actionHeader("view.activity" "view server activity" "zoom" "$urls.server()")
            <td>at the server view (server)</td>
        </tr>
        <tr>
            #actionHeader("view.agents" "view all agents" "zoom" "$urls.agents()")
            <td>at the agents view (agents)</td>
        </tr>
    </table>

    <h1> :: what's new :: </h1>
    <p>
        Pulse 2.5 is very much a user-focused release.  We've always used feedback to improve
        Pulse, and this release is almost entirely feedback-driven.  Key updates include:
    </p>
    <table class="template-actions" cellspacing="5px" style="margin-bottom: 10px;">
        <tr>
            <th class="category" colspan="2">new in 2.5</th>
        </tr>
        <tr>
            #actionHeader("filter" "filter main views" "accept" false)
            <td>
                The browse and dashboard pages may now be filtered by build state.  This allows
                you to easily find projects that are broken and need attention.
            </td>
        </tr>
        <tr>
            #actionHeader("mstest" "mstest support" "accept" false)
            <td>
                A new plugin has been added to process TRX reports produced by MSTest, integrating
                test results into your build.
            </td>
        </tr>
        <tr>
            #actionHeader("warning status" "separate warning status" "accept" false)
            <td>
                Builds (and the steps within them) that include warnings now complete with a new warning
                status.  This makes it easier to find, subscribe to, and generally work with builds with
                warnings.
            </td>
        </tr>
        <tr>
            #actionHeader("comments" "comment visibility" "accept" false)
            <td>
                The visibility of builds comments has been raised, making them easier to notice and
                access.
            </td>
        </tr>
        <tr>
            #actionHeader("agentcomments" "agent comments" "accept" false)
            <td>
                Comments may be left on agents, allowing communication between users.  For example,
                an admin can make a note of why an agent has been disabled.
            </td>
        </tr>
        <tr>
            #actionHeader("agentproperties" "agent properties" "accept" false)
            <td>
                Properties can now be configured directly on agents, giving a simpler way to
                parameterise your build depending on the machine it runs on.
            </td>
        </tr>
        <tr>
            #actionHeader("scmproperties" "scm properties" "accept" false)
            <td>
                SCM configuration can now reference project properties.  This allows you to parameterise
                your SCM settings, making them easier to maintain across many projects.
            </td>
        </tr>
        <tr>
            #actionHeader("scmresources" "scm resources" "accept" false)
            <td>
                SCM support that is built upon command-line clients can now be customised using
                resources.  This gives you simple control of the commands used for SCM integration.
            </td>
        </tr>
        <tr>
            #actionHeader("masterresources" "master resources" "accept" false)
            <td>
                As with agents, the Pulse master now supports a resource repository.  Resources
                will allow you to customise tools used by the master outside of builds.
            </td>
        </tr>
        <tr>
            #actionHeader("logattachments" "log attachments" "accept" false)
            <td>
                Build notification emails may now optionally have logs attached.  This includes both
                the overall build log and output logs from each stage.
            </td>
        </tr>
        <tr>
            #actionHeader("prestagehooks" "pre-stage hooks" "accept" false)
            <td>
                A new hook point has been added, allowing you to run a task just before a build
                stage is dispatched to an agent.
            </td>
        </tr>
        <tr>
            #actionHeader("archivedartifacts" "artifact archives" "accept" false)
            <td>
               Directory artifacts can now be captured as a single archive file.  When retrieved
               in dependent builds, you can opt to have archives unpacked automatically.
            </td>
        </tr>
        <tr>
            #actionHeader("flexiblebootstrapping" "flexible bootstrapping" "accept" false)
            <td>
                The build bootstrapping step has been made more flexible.  You can now configure
                the path for clean builds, and can choose to skip the SCM boostrap if desired.
            </td>
        </tr>
        <tr>
            #actionHeader("scminclusions" "scm inclusion filters" "accept" false)
            <td>
                SCM monitoring can now be customised with inclusive filters, complimenting the
                existing exclusion filters.
            </td>
        </tr>
        <tr>
            #actionHeader("inverseresources" "inverse resource requirements" "accept" false)
            <td>
                Builds may now be configured to avoid agents that have a specific resource.  This
                compliments the existing ability to assign builds by agent capabilities.
            </td>
        </tr>
        <tr>
            #actionHeader("renamelabels" "rename labels" "accept" false)
            <td>
                When a label is edited you are now prompted to choose whether all such labels
                should be renamed.  This makes renaming existing labels much simpler.
            </td>
        </tr>
        <tr>
            #actionHeader("cleanuppermission" "cleanup permission" "accept" false)
            <td>
                The ability to clean up build directories has been classified as a separate
                permission, allowing finer control of user access.
            </td>
        </tr>
        <tr>
            #actionHeader("perforcestreams" "perforce stream support" "accept" false)
            <td>
                The Perforce plugin has been enhanced to support streams, a kind of built-in
                 branching model in newer Perforce releases.
            </td>
        </tr>
        <tr>
            #actionHeader("gitsubmodules" "git submodule support" "accept" false)
            <td>
                The git plugin has been enhanced to support submodules, allowing Pulse to
                automatically update selected (or all) submodules when bootstrapping builds.
            </td>
        </tr>
       <tr>
            #actionHeader("more" "and more..." "accept" false)
            <td>
                This release also includes numerous smaller improvements and fixes. These include
                UI refinements, better Subversion externals support and much more.
            </td>
        </tr>
    </table>
</body>
</html>

