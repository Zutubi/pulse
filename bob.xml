<?xml version="1.0"?>
<project defaultRecipe="default">
    <post-processor name="generic.pp">
        <regex>
            <pattern category="error" expression=".*[Ee]rror.*"/>
            <pattern category="warning" expression=".*[Ww]arning.*"/>
        </regex>
    </post-processor>
    <post-processor name="ant.pp">
        <regex>
            <pattern category="info" expression=".*BUILD.*"/>
        </regex>
    </post-processor>

    <recipe name="default">
        <command name="build">
            <executable exe="ant" args="build" working-dir="${work.dir}"/>
            <process artifact="output" processor="ant.pp"/>
            <process artifact="output" processor="generic.pp"/>
        </command>
        <command name="test">
            <executable exe="ant" args="test" working-dir="${work.dir}"/>
            <artifact name="junit" title="Test Report" type="text/plain"
                      from-file="${work.dir}/build/test/report/TEST-com.cinnamonbob.core2.XMLConfigUtilsTest.txt"/>
            <process artifact="output" processor="ant.pp"/>
            <process artifact="output" processor="generic.pp"/>
        </command>
    </recipe>
</project>
